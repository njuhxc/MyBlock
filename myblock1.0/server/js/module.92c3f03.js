;/*!home:widget/ads/promotion/promotion.js*/
define("home:widget/ads/promotion/promotion",function(){});
;/*!home:widget/ads/union/union.js*/
define("home:widget/ads/union/union",function(e,n,t){e("common:widget/js/util/tangram/tangram");t.exports.init=function(e){for(var n,t,o=["PAGE_AD_","BAIDU_AD_"],i=[e],d=0,m=i.length;m>d;d++)n=document.getElementById(o[0]+i[d]),t=document.getElementById(o[1]+i[d]),n&&t&&(BAIDU_CLB_prepareMoveSlot(i[d]),n.appendChild(t))}});
;/*!home:widget/banner/banner.js*/
define("home:widget/banner/banner",function(n){function e(){i.send({page:"home",pos:"banner-daily-info",action:"click"}),window.open(c)}var o=n("common:widget/js/util/tangram/tangram"),i=n("common:widget/js/util/log/log"),a=F.context("cmsInfo"),c=(a.banner,F.context("homeBannerUrl"));o(".banner-bg-img").click(e),o(".banner-daily-info").click(e)});
;/*!home:widget/class/class.js*/
define("home:widget/class/class",function(s,i,e){var t=s("common:widget/js/util/tangram/tangram"),a=s("common:widget/js/util/template/template"),l=s("common:widget/js/ui/carousel/carousel");e.exports.init=function(s){var i,e,n,c,o,r=(t(".class-box"),[]),d=s.classList||[];if(s.tagClass)for(c in s.tagClass){n=s.tagClass[c],i={id:n.cid,src:n.picUrl,name:n.name},i.fields=[];for(o in n.child){if(e=n.child[o],i.fields.length>=8)break;i.fields.push({id:e.cid,name:e.name})}d.push(i)}for(var m=0;m<d.length;m+=4)r.push(a("t:class-tpl",{isFirst:0===m,index:parseInt(m/4,10),list:d.concat().slice(m,m+4)}));var f=new l({items:r,direction:"horizontal",controls:!0,interval:3e5,indicators:!1});f.render(t(".class-box").empty()[0])}});
;/*!home:widget/daily-question/daily-question.js*/
define("home:widget/daily-question/daily-question",function(i,n,e){var o=i("common:widget/js/util/tangram/tangram"),t=i("common:widget/lib/juicer/juicer"),a=(i("common:widget/js/util/log/log"),{init:function(){var i=this;i.dom=o(".daily-question"),i.dailyTpl=o("#j-daily-question").html(),i.dom.find(".refresh-btn").click(function(){i.dom.find(".refresh-btn").addClass("ing"),setTimeout(function(){i.dom.find(".refresh-btn").removeClass("ing")},400),i.autoRefresh()}),i.autoRefresh()},autoRefresh:function(){var i=this;o.ajax({url:"/home/api/onequestion",type:"GET",dataType:"json",cache:!1}).done(function(n){i.dom.find(".daily-question-ask").html(t(i.dailyTpl,n))}).fail(function(){})}});e.exports=a});
;/*!home:widget/jd-banner/jd-banner.js*/
define("home:widget/jd-banner/jd-banner",function(i,n,t){var a=i("common:widget/js/util/tangram/tangram"),e=i("common:widget/js/util/log/log"),o=i("common:widget/js/util/template/template"),c={init:function(){var i=this;i.isShowBigimg(),a(".act-banner-wrapper").on("click",function(){e.send({module:"home",page:"index",area:"jd_banner",action:"click"}),window.open("http://union.click.jd.com/jdc?d=ar4akF")})},isShowBigimg:function(){var i=this;localStorage.jdActTime?localStorage.jdActTime++:localStorage.jdActTime=0,localStorage.jdActTime>3?(i.isBig=0,i.initHtml(),i.showSmallimg()):(i.isBig=1,i.initHtml(),i.showBigimg())},initHtml:function(){var i=this,n={data:{isBig:i.isBig}};a(".act-banner-wrapper").html(o("t:init-act",n))},showBigimg:function(){var i;setTimeout(function(){a(".act-banner-wrapper").animate({height:"400px"},"1000","swing",function(){a(".act-banner-wrapper").css({"margin-bottom":"5px"}),a(".time-tick").show();var n=5;a(".icon-close-i").on("click",function(n){n.stopPropagation(),clearInterval(i),a(".act-banner-wrapper").animate({height:"0px"},"1000","swing",function(){a(".act-banner-wrapper").css({"margin-bottom":"0px"})})}),i=setInterval(function(){n--,a(".time-tick").text(n+" 秒"),0===n&&(clearInterval(i),setTimeout(function(){a(".act-banner-wrapper").animate({height:"80px"},"1000","swing",function(){a(".act-banner-wrapper").css({"margin-bottom":"5px"}),a(".time-tick").hide()})}),setTimeout(function(){a(".act-banner-wrapper .big-img").animate({opacity:"0"},1e3,"swing",function(){a(".act-banner-wrapper .big-img").hide()})}),setTimeout(function(){a(".act-banner-wrapper .small-img").animate({opacity:"1"},1e3,"swing")}))},1e3)})},0)},showSmallimg:function(){a(".act-banner-wrapper").animate({height:"80px"},"1000","swing",function(){a(".act-banner-wrapper").css({"margin-bottom":"5px"}),a(".icon-close-i").on("click",function(i){i.stopPropagation(),a(".act-banner-wrapper").animate({height:"0px"},"1000","swing",function(){a(".act-banner-wrapper").css({"margin-bottom":"0px"})})})})}};t.exports=c});
;/*!home:widget/js/lazyload/lazyload.js*/
define("home:widget/js/lazyload/lazyload",function(o,t,a){var i=o("common:widget/js/util/tangram/tangram"),d=[];a.exports.add=function(o,t,a){var n={offset:150,method:"appendTo"};i.extend(n,a),n.target=i(o),n.callback="callback"==n.method?t:function(){i(t).each(function(){i(this).data("img")&&i("<img/>").prop("src",i(this).data("img"))[n.method](i(this))})},n.loaded=!1,d.push(n)},i(window).scroll(function(){var o=i(window).scrollTop()+i(window).height();i(d).each(function(){!this.loaded&&o>this.target.offset().top-150&&(this.loaded=!0,this.callback())})}),i(window).on("load",function(){i(window).scroll()})});
;/*!home:widget/js/render-header/render-header.js*/
define("home:widget/js/render-header/render-header",function(t,s,e){function a(){var t=i(window),s=i(".userbar").width(),e=(i(".channel").width(),t.width()),a=i("#header").width(),r=i(".adTopImg");if(1200>e&&r.css("margin-left",404.5),e>=1200&&1280>=e&&r.css("margin-left",455.5),e>1280&&r.css("margin-left",505.5),e>980){var h=(e-a)/2;i(".channel").css({right:s+9+50-h-11-22,left:"auto",display:"block"}),i("#userbar").css({right:9,left:"auto",width:"auto",display:"block"})}980>e&&(i(".channel").css({right:"auto",left:169,display:"block"}),i("#userbar").css({right:"auto",left:616,width:360,display:"block"}));var n=/msie [678]/gi;t.on("resize",function(){var e=t.width(),a=i("#header").width();if(1200>e&&r.css("margin-left",404.5),e>=1200&&1280>=e&&r.css("margin-left",455.5),e>1280&&r.css("margin-left",505.5),0==n.test(navigator.userAgent)){if(e>980){var h=(e-a)/2;i(".channel").css({right:s+9+50-h-11-22,left:"auto"}),i("#userbar").css({right:9,left:"auto",width:"auto"}),i(".zhidao-new-message-tip").css({right:60})}980>e&&(i(".channel").css({right:"auto",left:169}),i("#userbar").css({right:"auto",left:616,width:360}),i(".zhidao-new-message-tip").css({right:100}))}else{if(1180>e&&e>980){i("#header").css("width",980);var h=(e-a)/2;i(".channel").css({right:s+9+50-h-11-22,left:"auto"}),i("#userbar").css({right:9,left:"auto",width:"auto"}),i(".zhidao-new-message-tip").css({right:60})}if(980>e&&(i(".channel").css({right:"auto",left:169}),i("#userbar").css({right:"auto",left:644,width:360}),i(".zhidao-new-message-tip").css({right:100})),e>1180){var h=(e-a)/2;i(".channel").css({right:s+9+50-h-11-22,left:"auto"}),i("#userbar").css({right:9,left:"auto",width:"auto"}),i(".zhidao-new-message-tip").css({right:60})}}})}var i=t("common:widget/js/util/tangram/tangram");e.exports.init=a});
;/*!home:widget/login-push/login-push.js*/
define("home:widget/login-push/login-push",function(t){function e(){return setInterval(function(){var t=r.find(".login-push-qustion-list");t.find(".qustion-item").length<6||t.animate({"margin-top":"-54px"},"500",function(){t.css({"margin-top":"0"}),t.append(t.find(".qustion-item").eq(0).remove())})},5e3)}function i(t){return String(t).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\//g,"&#x2f;").replace(/&amp;#(x([0-9A-Fa-f]+)|([0-9]+));/g,"&#$1;")}var n,a=t("common:widget/js/util/tangram/tangram"),l=t("common:widget/lib/juicer/juicer"),o=t("common:widget/js/ui/scrollbar/scrollbar"),s=t("common:widget/js/logic/set-tag-dialog/set-tag-dialog"),r=a(".login-push"),c=a("#j-question-list-tpl").html(),g=F.context("asking"),m=F.context("zhimaTagOpen"),u=F.context("zhimaTagText");if(m&&m>0&&u&&u.length>0&&(g.zhimaTagOpen=m,g.zhimaTagText=u),l.register("htmlEscape",i),g.list&&g.list.length>0?(r.find(".login-push-qustion-list").html(l(c,g)),n=e()):r.find(".login-push-qustion-list").html('<li style="text-align:center">很抱歉，此标签下没有相关问题！</li>'),g.keyword&&0!=g.keyword.length)r.find(".my-keyword-item").click(function(){var t=a(this);if(!t.hasClass("my-keyword-item-current")&&!t.hasClass("my-keyword-item-title")){var i="all"==t.data("type")?"":t.text();a.ajax({url:"/home/api/carekeyword",type:"GET",dataType:"json",data:{rn:"5",keyword:i,newPage:"1"},cache:!1}).done(function(i){r.find(".my-keyword-item-current").removeClass("my-keyword-item-current"),t.addClass("my-keyword-item-current"),i.list&&i.list.length>0?(r.find(".login-push-qustion-list").html(l(c,i)),clearInterval(n),n=e()):r.find(".login-push-qustion-list").html('<li style="text-align:center">很抱歉，此标签下没有相关问题！</li>')}).fail(function(){r.find(".login-push-qustion-list").html('<li style="text-align:center">网络异常，请重试！</li>')})}});else{var d=[];a.ajax({url:"/ihome/api/hottagrecommend",dataType:"json",async:!1,success:function(t){a(t.data.list).each(function(){d.push({name:this.tagName,legal:this.type})})}}),r.find(".set-my-tag").click(function(){new s({type:"add",tags:g.keyword,hot:d,success:function(){setTimeout(function(){window.location.reload()},1e3)}});var t=new o({scrollWrapper:a(".dialog-tags-wp"),scrollContent:a(".dialog-tags"),maxHeight:225});t.render()})}});
;/*!home:widget/pgc/mavin/mavin.js*/
define("home:widget/pgc/mavin/mavin",function(i,t,n){var e=i("common:widget/js/util/tangram/tangram"),o=i("common:widget/js/util/template/template"),a=i("common:widget/js/ui/carousel/carousel");n.exports.init=function(i){for(var t=e(".wgt-mavin .list"),n=i.mavinList||[],s=[],m=0;m<n.length;m+=2)s.push(o("t:mavin-tpl",{isFirst:0===m,index:parseInt(m/2),list:n.concat().slice(m,m+2)}));var r=new a({items:s,direction:"horizontal",controls:!1,interval:6e3,indicators:!1});r.render(t.empty()[0]);var c=e("#mavin-refresh"),l=c.find(".static"),d=c.find(".animate");d.hide(),l.show(),c.on("click",function(){r.next(),l.hide(),d.show(),setTimeout(function(){d.hide(),l.show()},1e3)})}});
;/*!home:widget/pgc/videoQuesAsk/videoQuesAsk.js*/
define("home:widget/pgc/videoQuesAsk/videoQuesAsk",function(t,i,e){{var o=t("common:widget/lib/jquery/jquery");t("common:widget/js/util/log/log")}e.exports.init=function(){o(".small-title .title").each(function(){var t=o(this).text();t.length>20?(t=t.substring(0,20)+"...",o(this).html(t),o(this).parent().show()):o(this).parent().show()}),o(".wgt-videoQuesAsk a").on("click",function(){var t=o(this).data("url");window.open(t)})}});
;/*!home:widget/product-show/product-show.js*/
define("home:widget/product-show/product-show",function(t){function i(t){e.find(".show-tab-item-current").removeClass("show-tab-item-current"),c.eq(t).addClass("show-tab-item-current");var i=e.find(".product-collection-item").width();a.animate({left:-(t*(i+15))+"px"},"400")}var n=t("common:widget/js/util/tangram/tangram"),o=t("common:widget/js/util/log/log"),e=n(".product-show"),a=e.find(".product-layout"),c=e.find(".show-tab-item");e.find(".show-tab-item").hover(function(){var t=n(this);if(!t.hasClass("show-tab-item-current")){var o=t.data("index");i(o)}});{var r=0,d=!1;setInterval(function(){d||i(r++%5)},5e3)}a.hover(function(){d=!0},function(){d=!1}),e.find(".product-item").click(function(){var t=n(this).data("href");t&&t.length>0&&window.open(t)}),e.find(".product-collection-item").click(function(){var t=n(this).data("index");o.send({page:"home",area:"app_tuiguang",action:"click",index:t})})});
;/*!home:widget/selected/selected.js*/
define("home:widget/selected/selected",function(t){var e=t("common:widget/js/util/tangram/tangram"),i=(t("common:widget/js/util/log/log"),t("common:widget/js/util/suffix-str/suffix-str")),o=e(".selected"),d=e(".selected-text",o),n=d.html();e(window).width()<1180&&d.html(i(n,90)),e(window).on("resize",function(){d.html(e(window).width()<1180?i(n,90):n)})});
;/*!home:widget/slogan/slogan.js*/
define("home:widget/slogan/slogan",function(n,t){function i(){e(".go-sign-in").click(function(n){n.preventDefault(),a.send({type:2058,action:"click",fr:"new_home",pos:"signin-entrance"}),new c(F.context("signInTime"))}),e(".login-slogan .avatar-mask").click(function(){window.open("/ihome")})}function o(n){function t(n){n%=1e9,v=n+l,p=n,c(),i()}function i(){d=0;var n=setInterval(function(){return d+2>=m/g?(clearInterval(n),void o()):(d++,v=Math.floor(v+(p-v)*d/(m/g)),void c())},g)}function o(){e.get("/home/api/trend?t="+(new Date).getTime(),function(n){v=p,p=n.finishCount%1e9,c(),i()},"json")}function c(){var n=(v+"").split("");e.each(e(".finish-count .count-num-item"),function(t,i){a(e(i),parseInt(n[t],10))})}function a(n,t){var i=parseInt(n.data("num"),10)||0,o=i*f,e=t>=i?t*f:(t+10)*f,c=(e-o)/(u/r),a=setInterval(function(){return o+c>=e?(o=e,n.css("top",-o+"px").data("num",t),void clearInterval(a)):(o+=c,void n.css("top",-o+"px"))},r)}function s(n){(n.finishCount%1e9+l+"").split("");e(window).on("load",function(){t(n.finishCount)})}var u=1500,f=33,r=16,l=-30,g=5e3,m=3e4,d=0,v=0,p=0;s(n)}var e=n("common:widget/js/util/tangram/tangram"),c=(n("common:widget/js/util/event/event"),n("common:widget/js/ui/tip/tip"),n("common:widget/js/logic/sign-in/sign-in")),a=n("common:widget/js/util/log/log");t.init=function(){0==F.context("user").isLogin?o({finishCount:F.context("realTimeData").finishCount}):i()}});
;/*!home:widget/unlogin-push/unlogin-push.js*/
define("home:widget/unlogin-push/unlogin-push",function(n){var i=n("common:widget/js/util/tangram/tangram"),o=(n("common:widget/js/util/log/log"),i(".unlogin-push")),t=o.find(".unlogin-push-qustion-list");setInterval(function(){t.animate({"margin-top":"-54px"},"500",function(){t.css({"margin-top":"0"}),t.append(t.find(".qustion-item").eq(0).remove())})},5e3)});
;/*!home:widget/wendaji/wendaji.js*/
define("home:widget/wendaji/wendaji",function(t){var i=t("common:widget/js/util/tangram/tangram"),n=t("common:widget/js/util/log/log"),e=t("common:widget/js/util/suffix-str/suffix-str"),a=i(".center-container"),o=F.context("cmsInfo").simpleData.wendaji[0]||{},d=i(".wendaji-item-body",a),w=d.html();a.find(".wendaji-action-item").click(function(){var t=i(this);i.ajax({url:"/liuyan/submit/trueorfalse",type:"GET",dataType:"json",data:{id:o.id,type:t.data("type")}}).always(function(){n.send({page:"home",pos:"wendaji",area:"button",type:2058,action:"click"})})}),i(window).width()<1180&&d.html(e(w,70)),i(window).on("resize",function(){d.html(i(window).width()<1180?e(w,70):w)})});
;/*!home:widget/zd-user/promotions/promotions.js*/
define("home:widget/zd-user/promotions/promotions",function(o,t,i){var e=o("common:widget/js/util/tangram/tangram"),n=o("common:widget/js/ui/carousel/carousel");i.exports.init=function(o){var t,i=[];e.each(o,function(o){var t=['<a alog-action="ad-banner" log="page:home,pos:right_promotions,index:',o,'" href="',e.string(this.url).encodeHTML(),'" target="_blank" ',0!=o?'data-img="'+e.string(this.imgUrl).encodeHTML()+'"':"",'title="',this.title,'">',0==o?'<img class="promotion-img" src="'+e.string(this.imgUrl).encodeHTML()+'" alt=""/>':"","</a>"].join("");i.push(t)}),t=new n({items:i,controls:!0,indicators:!0,slide:function(o,t){var i=e(t.relatedTarget),n=i.find("a"),s=n.data("img");s&&n.html('<img src="'+s+'" alt=""/>')}}),t.render("#imgs-block");{var s=e("#imgs-block .carousel-misc"),a=e('<div class="scroll-shadow"></div>').insertBefore(s),r=e("#imgs-block .carousel-control-left");e("#imgs-block .carousel-control-right")}r.css("left",e(".wgt-promotions").width()/2-(34+13*o.length)/2+"px"),1==o.length&&(s.hide(),a.hide()),e("#wgt-promotions").mouseenter(function(o){o.stopPropagation(),s.animate({bottom:0}),a.animate({bottom:0}),t.pause()}).mouseleave(function(o){o.stopPropagation(),s.animate({bottom:-30}),a.animate({bottom:-30}),t.cycle()}),e(window).on("resize",function(){r.css("left",e(".wgt-promotions").width()/2-(34+13*o.length)/2+"px")})}});
;/*!home:widget/zd-user/rank/rank.js*/
define("home:widget/zd-user/rank/rank",function(e){function t(){a.eq(0).toggleClass("select"),a.eq(1).toggleClass("select"),o.toggle()}var n=e("common:widget/js/util/tangram/tangram"),a=n(".wgt-rank .tab a"),o=n(".wgt-rank .tabCnt .rank-block"),l=null;a.mouseover(function(){n(this).hasClass("select")||(l&&clearTimeout(l),l=setTimeout(function(){t()},200))}).mouseleave(function(){l&&clearTimeout(l)})});
;/*!home:widget/zd-user/zhima/zhima.js*/
define("home:widget/zd-user/zhima/zhima",function(a,t,e){{var i=a("common:widget/lib/jquery/jquery");a("common:widget/js/util/event/event")}i.url=a("common:widget/js/util/tangram/url"),i.cookie=a("common:widget/js/util/tangram/cookie"),a("common:widget/lib/jquery.easing/jquery.easing"),e.exports.init=function(){var a=!0;i(".wgt-zhima .card").mouseenter(function(){var t=i(this);t.find(".bottom").animate({height:"196px"},500,"easeOutSine"),t.find(".animate-text").animate({height:"0px",opacity:0},500,"easeInOutQuad"),t.find(".animate").animate({height:"102px",width:"102px"},500),t.find(".h-section").animate({height:"40px",opacity:1},500,"easeOutExpo"),t.find(".info").animate({opacity:0},500,"easeOutExpo"),t.find(".people").css({visibility:"visible"}).animate({opacity:1},500).delay(100),t.find(".name").animate({"font-size":"18px"},500),t.addClass("hover"),a&&t.addClass("zhima-star-show")}).mouseleave(function(){var a=i(this);a.find(".bottom").stop(!0,!1).animate({height:"111px"},500),a.find(".animate-text").stop(!0,!1).animate({height:"123px",opacity:1},500),a.find(".animate").stop(!0,!1).animate({height:"118px",width:"118px"},500),a.find(".h-section").stop(!0,!1).animate({height:"0",opacity:0},500,"easeOutExpo"),a.find(".info").stop(!0,!1).animate({opacity:1},500),a.find(".people").css({visibility:"hidden"}).stop(!0,!1).animate({opacity:0},500,"easeOutQuart"),a.find(".name").stop(!0,!1).animate({"font-size":"14px"},500),a.removeClass("hover"),a.removeClass("zhima-star-show")});var t=i(".wgt-zhima .bottom .portrait");i.each(t,function(t,e){i(e).on("click",function(){if(!i(e).hasClass("selected")){var t=i(this),n=t.parents(".card"),o=i(e).closest(".bottom"),s=o.siblings(".up");i(".portrait",o).removeClass("selected"),i(e).addClass("selected");var m=i(e).data("uname"),d=i(e).data("encodeuid"),r=encodeURIComponent(m),h=encodeURIComponent(d),p="/usercenter?uid="+h;n.hasClass("user")&&(0==t.data("index")?(a=!0,n.addClass("zhima-star-show"),p="http://zhidao.baidu.com/s/star/index.html"):(a=!1,n.removeClass("zhima-star-show"))),n.hasClass("team")?p="http://zhidao.baidu.com/uteam/view?teamId="+t.data("team-id"):n.find(".ask-to-me").length>0&&n.find(".ask-to-me").attr("href","/new?fix="+r),i(".portrait",s).attr("href",p),i(".name",s).attr("href",p),i(".name",s).html(m),i(".user-avatar",s).attr("src",t.find(".user-avatar-small").attr("src")),i(".help span",s).html(i(e).data("helpnum"));for(var c=i(e).data("keyword"),l=c.split(","),u="擅长",f=0;f<l.length;f++)u+="<span>"+l[f]+"</span>";i(".field",s).html(u)}}),i(e).mouseover(function(){i(e).addClass("over")}).mouseout(function(){i(e).removeClass("over")})}),i(".wgt-zhima .admin .button").on("click",function(){log.send({page:"home",pos:"zhima_admin",action:"click"})})}});